<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>LAN Chat</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="icon.png">
  <link rel="stylesheet" href="prism.css" />
  <script src="prism.js"></script>
</head>
<body>
  <h1 id="LAN"><b>LAN Chat</b></h1>

<div id="container">
  <div id="sidebar">
    <h2>Users</h2>
    <ul id="users"></ul>

    <button id="recover-chat-btn" style="margin-bottom:10px; display:none; position:relative; padding-right:22px;">
      Recover Chat
      <span id="close-recover-btn" 
            style="position:absolute; top:2px; right:4px; cursor:pointer; color:red; font-weight:bold; font-size:14px; line-height:1;">âœ–</span>
    </button>


    <button id="settings-btn">âš™ Settings</button>

    <div id="settings-modal" class="settings-modal">
      <div class="settings-content">
        <span class="close-settings" id="close-settings-btn">&times;</span>
        <h2>Settings</h2>
        <div id="settings-list">
          <button id="wipe-blacklist-btn" style="display:none;">ğŸ§¹ Wipe All Blacklisted Users</button>
          <label><input type="checkbox" id="toggle-reply-btn" /> Show reply button</label>
          <label><input type="checkbox" id="toggle-timestamps" /> Show Timestamps</label>
          <label><input type="checkbox" id="toggle-image-preview" checked /> Show image previews</label>
          <label><input type="checkbox" id="toggle-darkmode" checked /> Dark Mode</label>
          <label><input type="checkbox" id="toggle-file-links" /> Show files list</label>
          <label><input type="checkbox" id="toggle-post-files" /> Post files</label>
          <div class="nick-color-row">
            <label for="custom-nick-color" style="margin-bottom:0;">Nick color:</label>
            <input type="color" id="custom-nick-color">
            <button id="set-color-btn" style="margin-bottom:0;">Set</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="main-chat">
    <div id="chat" class="chat-box"></div>
    <div id="reply-preview-container"></div>
    <div class="input-area">
      <textarea id="msg" placeholder="Type your message..."></textarea>
      <button id="send">Send</button>
      <button id="code">Code</button>
      <select id="code-lang" >
        <option value="plaintext">ğŸ“‹ None</option>
        <option value="php">ğŸ˜ PHP</option>
        <option value="python">ğŸ Python</option>
        <option value="javascript">âœ¨ JavaScript</option>
        <option value="html">ğŸŒ HTML</option>
        <option value="css">ğŸ¨ CSS</option>
        <option value="sql">ğŸ—„ï¸ SQL</option>
        </select>
    </div>
<div id="file-upload-controls" style="display:none;">
  <label for="fileInput" class="file-upload-label">ğŸ“ Choose File</label>
  <input type="file" id="fileInput">
  <button id="sendFileBtn" onclick="uploadFile()">Send File</button>
</div>
  </div>

  <div id="file-list" style="margin:0; display:none;">
    <b>Uploaded Files:</b>
    <ul id="uploaded-files"></ul>
    <button id="clear-files-btn" style="margin-top:10px; display:none;">ğŸ—‘ Clear Uploaded Files</button>
  </div>
  
  
</div>
  
<div id="image-modal" class="image-modal">
  <span class="close-modal" onclick="closeImageModal()">âœ–</span>
  <span class="prev-img" onclick="navigateImage(-1)">âŸ¨</span>
  <img id="modal-img" src="" alt="Preview">
  <span class="next-img" onclick="navigateImage(1)">âŸ©</span>
</div>



  <div id="error-message" style="
  display:none;
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  background:#ffdddd;
  color:#900;
  border:1px solid #900;
  padding:8px 12px;
  border-radius:5px;
  font-size:0.9em;
  z-index:1000;
"></div>





  <script src="chat.js"></script>



</body>

</html>
